{% extends 'base.html' %}

{% block header %}
    <h1> {% block title %}Welcome, {{ g.user['username'] }} {% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="left-align">
    <h5 class="card-panel amber accent-1">Proyects.</h5>
</div>

<div class="row">
  <form method="POST">
    <div class="col s3">
      <button class="btn waves-effect waves-ligth amber accent-3 black-text" type="submit" value="create-proyect" name="create-proyect">Create a new proyect</button>
    </div>
  </form>
  <form method="POST">
    <div class="col s3 offset-s4">
      <input placeholder="Enter proyect" name="find-proyect" id="proyect">
    </div>
    <div class="col s2">
      <input class="btn waves-effect waves-ligth amber accent-3 black-text" type="submit" value="Find proyect">
    </div>
  </form>
</div>

<table class="centered">
    <thead class="card-panel amber accent-1">
      <tr>
        <th>Proyect Id</th>
        <th>Description</th>
        <th>Start</th>
        <th>End</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>  
      {% for proyect in proyects %}
        <tr>
          <td>{{ proyect['id'] }}</td>
          <td>{{ proyect['description']}}</td>
          <td>{{ proyect['start'] }}</td>
          <td>{{ proyect['end'] }}</td>
          <td>{{ proyect['status'] }}</td>
          <td>
            <form method="POST">
                <button class="btn waves-effect waves-ligth amber accent-3 black-text" type="submit" name="modify" value="{{ proyect['id'] }}">Modify</button>
                <button class="btn waves-effect waves-ligth amber accent-1 black-text" type="submit" name="enable-proyect" value="{{ proyect['id'] }}">Enable</button>
                <button class="btn waves-effect waves-ligth white black-text" type="submit" name="close-proyect" value="{{ proyect['id'] }}">Close</button>
            </form>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}